# Руководство по развертыванию

В этом документе описаны шаги для развертывания приложения на различных платформах.

## Развертывание на Netlify

Приложение настроено для автоматического развертывания на [Netlify](https://www.netlify.com/).

### Подготовка к деплою

1. Убедитесь, что `netlify.toml` содержит правильные настройки:

```toml
[build]
  command = "bun run build"
  publish = "dist"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```

2. Убедитесь, что `package.json` содержит корректные скрипты для сборки:

```json
"scripts": {
  "dev": "vite --host 0.0.0.0",
  "build": "tsc && vite build",
  "preview": "vite preview"
}
```

### Автоматический деплой через GitHub

1. Создайте репозиторий на GitHub и загрузите код
2. Зарегистрируйтесь на Netlify
3. Выберите "New site from Git"
4. Выберите GitHub в качестве провайдера и дайте разрешения на доступ
5. Выберите нужный репозиторий
6. Настройки сборки должны быть определены автоматически из `netlify.toml`
7. Нажмите "Deploy site"

### Ручной деплой через Netlify CLI

1. Установите Netlify CLI глобально: `npm install -g netlify-cli`
2. Соберите проект: `bun run build`
3. Войдите в аккаунт Netlify: `netlify login`
4. Разверните проект: `netlify deploy --prod`

## Развертывание на Vercel

Vercel также является хорошей альтернативой для развертывания React-приложений.

1. Создайте файл `vercel.json` в корне проекта:

```json
{
  "rewrites": [
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}
```

2. Зарегистрируйтесь на [Vercel](https://vercel.com/)
3. Установите Vercel CLI: `npm install -g vercel`
4. Войдите в аккаунт: `vercel login`
5. Разверните проект: `vercel --prod`

## Интеграция с Telegram Bot

После развертывания приложения, вам нужно будет настроить вашего Telegram-бота для использования приложения как WebApp.

### Конфигурация в BotFather

1. Откройте [@BotFather](https://t.me/BotFather) в Telegram
2. Отправьте команду `/mybots` и выберите нужного бота
3. Выберите "Bot Settings" > "Menu Button" или "Web App" (в зависимости от интерфейса)
4. Укажите URL вашего развернутого приложения

### Проверка и тестирование

Чтобы убедиться, что ваш WebApp работает корректно:

1. Откройте бота в Telegram
2. Нажмите на кнопку WebApp (если настроена)
3. Убедитесь, что приложение загружается и работает правильно
4. Проверьте, что пользовательские данные из Telegram (имя пользователя) отображаются правильно

## Среда разработки

При разработке на локальной машине вы можете использовать тестовое окружение Telegram:

1. Откройте страницу: https://oauth.telegram.org/embed/
2. Вставьте URL локального сервера (например, http://localhost:5173)
3. Используйте это для тестирования Telegram WebApp API в локальной среде
